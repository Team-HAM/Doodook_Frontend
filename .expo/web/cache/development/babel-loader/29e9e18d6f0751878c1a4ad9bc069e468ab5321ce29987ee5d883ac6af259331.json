{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport { API_BASE_URL } from \"./apiConfig\";\nexport var getNewAccessToken = function () {\n  var _ref = _asyncToGenerator(function* (navigation) {\n    try {\n      var email = yield AsyncStorage.getItem(\"userEmail\");\n      var password = yield AsyncStorage.getItem(\"userPassword\");\n      if (!email || !password) {\n        console.error(\"‚ùå Ï†ÄÏû•Îêú Ïù¥Î©îÏùº ÎòêÎäî ÎπÑÎ∞ÄÎ≤àÌò∏ ÏóÜÏùå\");\n        navigation.navigate(\"Login\");\n        return null;\n      }\n      console.log(\"üîÑ Access Token ÏöîÏ≤≠ Ï§ë...\");\n      var response = yield fetch(API_BASE_URL + \"api/token/\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          email: email,\n          password: password\n        })\n      });\n      console.log(\"üì° ÏùëÎãµ ÏÉÅÌÉú ÏΩîÎìú:\", response.status);\n      var responseText = yield response.text();\n      console.log(\"üì° ÏùëÎãµ Î≥∏Î¨∏:\", responseText);\n      if (!response.ok) throw new Error(\"‚ùå Access Token Î∞úÍ∏â Ïã§Ìå®\");\n      var data = JSON.parse(responseText);\n      yield AsyncStorage.setItem(\"accessToken\", data.access);\n      return data.access;\n    } catch (error) {\n      console.error(\"‚ùå Access Token ÏöîÏ≤≠ Ïã§Ìå®:\", error);\n      return null;\n    }\n  });\n  return function getNewAccessToken(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();","map":{"version":3,"names":["AsyncStorage","API_BASE_URL","getNewAccessToken","_ref","_asyncToGenerator","navigation","email","getItem","password","console","error","navigate","log","response","fetch","method","headers","body","JSON","stringify","status","responseText","text","ok","Error","data","parse","setItem","access","_x","apply","arguments"],"sources":["/Users/seungyeon/Doodook_Frontend/src/utils/token.js"],"sourcesContent":["import AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport { API_BASE_URL } from \"./apiConfig\";\n\n//ÌÜ†ÌÅ∞ ÏÉùÏÑ± api\nexport const getNewAccessToken = async (navigation) => {\n  try {\n    const email = await AsyncStorage.getItem(\"userEmail\");\n    const password = await AsyncStorage.getItem(\"userPassword\");\n\n    if (!email || !password) {\n      console.error(\"‚ùå Ï†ÄÏû•Îêú Ïù¥Î©îÏùº ÎòêÎäî ÎπÑÎ∞ÄÎ≤àÌò∏ ÏóÜÏùå\");\n      navigation.navigate(\"Login\");\n      return null;\n    }\n\n    console.log(\"üîÑ Access Token ÏöîÏ≤≠ Ï§ë...\");\n    const response = await fetch(`${API_BASE_URL}api/token/`, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ email, password }),\n    });\n\n    console.log(\"üì° ÏùëÎãµ ÏÉÅÌÉú ÏΩîÎìú:\", response.status);\n    const responseText = await response.text();\n    console.log(\"üì° ÏùëÎãµ Î≥∏Î¨∏:\", responseText);\n\n    if (!response.ok) throw new Error(\"‚ùå Access Token Î∞úÍ∏â Ïã§Ìå®\");\n\n    const data = JSON.parse(responseText);\n\n    await AsyncStorage.setItem(\"accessToken\", data.access);\n    //console.log('‚úÖ ÏÉà Access Token Ï†ÄÏû• ÏôÑÎ£å:', data.access);\n\n    return data.access;\n  } catch (error) {\n    console.error(\"‚ùå Access Token ÏöîÏ≤≠ Ïã§Ìå®:\", error);\n    return null;\n  }\n};\n"],"mappings":";AAAA,OAAOA,YAAY,MAAM,2CAA2C;AACpE,SAASC,YAAY;AAGrB,OAAO,IAAMC,iBAAiB;EAAA,IAAAC,IAAA,GAAAC,iBAAA,CAAG,WAAOC,UAAU,EAAK;IACrD,IAAI;MACF,IAAMC,KAAK,SAASN,YAAY,CAACO,OAAO,CAAC,WAAW,CAAC;MACrD,IAAMC,QAAQ,SAASR,YAAY,CAACO,OAAO,CAAC,cAAc,CAAC;MAE3D,IAAI,CAACD,KAAK,IAAI,CAACE,QAAQ,EAAE;QACvBC,OAAO,CAACC,KAAK,CAAC,sBAAsB,CAAC;QACrCL,UAAU,CAACM,QAAQ,CAAC,OAAO,CAAC;QAC5B,OAAO,IAAI;MACb;MAEAF,OAAO,CAACG,GAAG,CAAC,yBAAyB,CAAC;MACtC,IAAMC,QAAQ,SAASC,KAAK,CAAIb,YAAY,iBAAc;QACxDc,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UAAE,cAAc,EAAE;QAAmB,CAAC;QAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UAAEb,KAAK,EAALA,KAAK;UAAEE,QAAQ,EAARA;QAAS,CAAC;MAC1C,CAAC,CAAC;MAEFC,OAAO,CAACG,GAAG,CAAC,cAAc,EAAEC,QAAQ,CAACO,MAAM,CAAC;MAC5C,IAAMC,YAAY,SAASR,QAAQ,CAACS,IAAI,CAAC,CAAC;MAC1Cb,OAAO,CAACG,GAAG,CAAC,WAAW,EAAES,YAAY,CAAC;MAEtC,IAAI,CAACR,QAAQ,CAACU,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,sBAAsB,CAAC;MAEzD,IAAMC,IAAI,GAAGP,IAAI,CAACQ,KAAK,CAACL,YAAY,CAAC;MAErC,MAAMrB,YAAY,CAAC2B,OAAO,CAAC,aAAa,EAAEF,IAAI,CAACG,MAAM,CAAC;MAGtD,OAAOH,IAAI,CAACG,MAAM;IACpB,CAAC,CAAC,OAAOlB,KAAK,EAAE;MACdD,OAAO,CAACC,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;MAC7C,OAAO,IAAI;IACb;EACF,CAAC;EAAA,gBAlCYR,iBAAiBA,CAAA2B,EAAA;IAAA,OAAA1B,IAAA,CAAA2B,KAAA,OAAAC,SAAA;EAAA;AAAA,GAkC7B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}