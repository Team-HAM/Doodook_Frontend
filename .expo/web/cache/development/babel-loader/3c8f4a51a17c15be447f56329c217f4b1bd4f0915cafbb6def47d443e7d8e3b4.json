{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport getUniqueID from \"./getUniqueID\";\nimport getTokenTypeByToken from \"./getTokenTypeByToken\";\nfunction createNode(token, tokenIndex) {\n  var type = getTokenTypeByToken(token);\n  var content = token.content;\n  var attributes = {};\n  if (token.attrs) {\n    attributes = token.attrs.reduce(function (prev, curr) {\n      var _curr = _slicedToArray(curr, 2),\n        name = _curr[0],\n        value = _curr[1];\n      return _objectSpread(_objectSpread({}, prev), {}, _defineProperty({}, name, value));\n    }, {});\n  }\n  return {\n    type: type,\n    sourceType: token.type,\n    sourceInfo: token.info,\n    sourceMeta: token.meta,\n    block: token.block,\n    markup: token.markup,\n    key: getUniqueID() + '_' + type,\n    content: content,\n    tokenIndex: tokenIndex,\n    index: 0,\n    attributes: attributes,\n    children: tokensToAST(token.children)\n  };\n}\nexport default function tokensToAST(tokens) {\n  var stack = [];\n  var children = [];\n  if (!tokens || tokens.length === 0) {\n    return [];\n  }\n  for (var i = 0; i < tokens.length; i++) {\n    var token = tokens[i];\n    var astNode = createNode(token, i);\n    if (!(astNode.type === 'text' && astNode.children.length === 0 && astNode.content === '')) {\n      astNode.index = children.length;\n      if (token.nesting === 1) {\n        children.push(astNode);\n        stack.push(children);\n        children = astNode.children;\n      } else if (token.nesting === -1) {\n        children = stack.pop();\n      } else if (token.nesting === 0) {\n        children.push(astNode);\n      }\n    }\n  }\n  return children;\n}","map":{"version":3,"names":["getUniqueID","getTokenTypeByToken","createNode","token","tokenIndex","type","content","attributes","attrs","reduce","prev","curr","_curr","_slicedToArray","name","value","_objectSpread","_defineProperty","sourceType","sourceInfo","info","sourceMeta","meta","block","markup","key","index","children","tokensToAST","tokens","stack","length","i","astNode","nesting","push","pop"],"sources":["/Users/seungyeon/Doodook_Frontend/node_modules/react-native-markdown-display/src/lib/util/tokensToAST.js"],"sourcesContent":["import getUniqueID from './getUniqueID';\nimport getTokenTypeByToken from './getTokenTypeByToken';\n\n/**\n *\n * @param {{type: string, tag:string, content: string, children: *, attrs: Array, meta, info, block: boolean}} token\n * @param {number} tokenIndex\n * @return {{type: string, content, tokenIndex: *, index: number, attributes: {}, children: *}}\n */\nfunction createNode(token, tokenIndex) {\n  const type = getTokenTypeByToken(token);\n  const content = token.content;\n\n  let attributes = {};\n\n  if (token.attrs) {\n    attributes = token.attrs.reduce((prev, curr) => {\n      const [name, value] = curr;\n      return {...prev, [name]: value};\n    }, {});\n  }\n\n  return {\n    type,\n    sourceType: token.type,\n    sourceInfo: token.info,\n    sourceMeta: token.meta,\n    block: token.block,\n    markup: token.markup,\n    key: getUniqueID() + '_' + type,\n    content,\n    tokenIndex,\n    index: 0,\n    attributes,\n    children: tokensToAST(token.children),\n  };\n}\n\n/**\n *\n * @param {Array<{type: string, tag:string, content: string, children: *, attrs: Array}>}tokens\n * @return {Array}\n */\nexport default function tokensToAST(tokens) {\n  let stack = [];\n  let children = [];\n\n  if (!tokens || tokens.length === 0) {\n    return [];\n  }\n\n  for (let i = 0; i < tokens.length; i++) {\n    const token = tokens[i];\n    const astNode = createNode(token, i);\n\n    if (\n      !(\n        astNode.type === 'text' &&\n        astNode.children.length === 0 &&\n        astNode.content === ''\n      )\n    ) {\n      astNode.index = children.length;\n\n      if (token.nesting === 1) {\n        children.push(astNode);\n        stack.push(children);\n        children = astNode.children;\n      } else if (token.nesting === -1) {\n        children = stack.pop();\n      } else if (token.nesting === 0) {\n        children.push(astNode);\n      }\n    }\n  }\n\n  return children;\n}\n"],"mappings":";;;;AAAA,OAAOA,WAAW;AAClB,OAAOC,mBAAmB;AAQ1B,SAASC,UAAUA,CAACC,KAAK,EAAEC,UAAU,EAAE;EACrC,IAAMC,IAAI,GAAGJ,mBAAmB,CAACE,KAAK,CAAC;EACvC,IAAMG,OAAO,GAAGH,KAAK,CAACG,OAAO;EAE7B,IAAIC,UAAU,GAAG,CAAC,CAAC;EAEnB,IAAIJ,KAAK,CAACK,KAAK,EAAE;IACfD,UAAU,GAAGJ,KAAK,CAACK,KAAK,CAACC,MAAM,CAAC,UAACC,IAAI,EAAEC,IAAI,EAAK;MAC9C,IAAAC,KAAA,GAAAC,cAAA,CAAsBF,IAAI;QAAnBG,IAAI,GAAAF,KAAA;QAAEG,KAAK,GAAAH,KAAA;MAClB,OAAAI,aAAA,CAAAA,aAAA,KAAWN,IAAI,OAAAO,eAAA,KAAGH,IAAI,EAAGC,KAAK;IAChC,CAAC,EAAE,CAAC,CAAC,CAAC;EACR;EAEA,OAAO;IACLV,IAAI,EAAJA,IAAI;IACJa,UAAU,EAAEf,KAAK,CAACE,IAAI;IACtBc,UAAU,EAAEhB,KAAK,CAACiB,IAAI;IACtBC,UAAU,EAAElB,KAAK,CAACmB,IAAI;IACtBC,KAAK,EAAEpB,KAAK,CAACoB,KAAK;IAClBC,MAAM,EAAErB,KAAK,CAACqB,MAAM;IACpBC,GAAG,EAAEzB,WAAW,CAAC,CAAC,GAAG,GAAG,GAAGK,IAAI;IAC/BC,OAAO,EAAPA,OAAO;IACPF,UAAU,EAAVA,UAAU;IACVsB,KAAK,EAAE,CAAC;IACRnB,UAAU,EAAVA,UAAU;IACVoB,QAAQ,EAAEC,WAAW,CAACzB,KAAK,CAACwB,QAAQ;EACtC,CAAC;AACH;AAOA,eAAe,SAASC,WAAWA,CAACC,MAAM,EAAE;EAC1C,IAAIC,KAAK,GAAG,EAAE;EACd,IAAIH,QAAQ,GAAG,EAAE;EAEjB,IAAI,CAACE,MAAM,IAAIA,MAAM,CAACE,MAAM,KAAK,CAAC,EAAE;IAClC,OAAO,EAAE;EACX;EAEA,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGH,MAAM,CAACE,MAAM,EAAEC,CAAC,EAAE,EAAE;IACtC,IAAM7B,KAAK,GAAG0B,MAAM,CAACG,CAAC,CAAC;IACvB,IAAMC,OAAO,GAAG/B,UAAU,CAACC,KAAK,EAAE6B,CAAC,CAAC;IAEpC,IACE,EACEC,OAAO,CAAC5B,IAAI,KAAK,MAAM,IACvB4B,OAAO,CAACN,QAAQ,CAACI,MAAM,KAAK,CAAC,IAC7BE,OAAO,CAAC3B,OAAO,KAAK,EAAE,CACvB,EACD;MACA2B,OAAO,CAACP,KAAK,GAAGC,QAAQ,CAACI,MAAM;MAE/B,IAAI5B,KAAK,CAAC+B,OAAO,KAAK,CAAC,EAAE;QACvBP,QAAQ,CAACQ,IAAI,CAACF,OAAO,CAAC;QACtBH,KAAK,CAACK,IAAI,CAACR,QAAQ,CAAC;QACpBA,QAAQ,GAAGM,OAAO,CAACN,QAAQ;MAC7B,CAAC,MAAM,IAAIxB,KAAK,CAAC+B,OAAO,KAAK,CAAC,CAAC,EAAE;QAC/BP,QAAQ,GAAGG,KAAK,CAACM,GAAG,CAAC,CAAC;MACxB,CAAC,MAAM,IAAIjC,KAAK,CAAC+B,OAAO,KAAK,CAAC,EAAE;QAC9BP,QAAQ,CAACQ,IAAI,CAACF,OAAO,CAAC;MACxB;IACF;EACF;EAEA,OAAON,QAAQ;AACjB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}